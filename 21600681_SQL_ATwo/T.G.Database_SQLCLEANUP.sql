CREATE DATABASE DB_T_GARARGE;


CREATE TABLE CLIENT(
CLI_ID TINYINT NOT NULL, 
FirstName VARCHAR (20) NOT NULL, 
Surname VARCHAR (20) NOT NULL, 
Email VARCHAR (50) NOT NULL,
Phone INT,
PriorityTyp TINYINT,
PRIMARY KEY (CLI_ID),
);

CREATE TABLE VEHICLE(
VEHICLE_ID TINYINT NOT NULL,
VEHICLE_REG INT NOT NULL,
VEHICLE_MODEL VARCHAR (20) NOT NULL, 
VEHICLE_YEAR DATE NOT NULL, 
VEHICLE_COLOUR VARCHAR (20) NOT NULL,
CLI_ID TINYINT NOT NULL,
FOREIGN KEY (CLI_ID) REFERENCES CLIENT(CLI_ID),
PRIMARY KEY (VEHICLE_ID));

CREATE TABLE SERVICE(
SER_ID TINYINT NOT NULL,
SER_TYPE VARCHAR(20) NOT NULL,
SER_DATE VARCHAR(40) NOT NULL,
CLI_ID TINYINT NOT NULL,
VEHICLE_ID TINYINT NOT NULL,
PRIMARY KEY (SER_ID),
FOREIGN KEY (CLI_ID) REFERENCES CLIENT(CLI_ID),
FOREIGN KEY (VEHICLE_ID) REFERENCES VEHICLE(VEHICLE_ID)
); 



INSERT into CLIENT (CLI_ID, FirstName, Surname, Email, Phone, PriorityTyp)
VALUES ('1','Dave','Dude','DD@MAIL.com','0468921','0'),
('2','Jo','Blo','JB@MAIL.com','0249821','1'),
('3','Donna','Toggs','DT@MAIL.com','024265','0'),
('4','Fonna','Noggs','FN@MAIL.com','02476351','1'),
('5','Honna','Soggs','HS@MAIL.com','0236821','1');

INSERT into VEHICLE (VEHICLE_ID, VEHICLE_REG, VEHICLE_MODEL, VEHICLE_YEAR, VEHICLE_COLOUR, CLI_ID)
VALUES ('1','111111','Royal','2000','WHITE','1'),
('2','222222','GS455','2000','LIGHT BLUE','2'),
('3','333333','GS455','2000','LIGHT BLUE','2'),
('4','444444','Eshelman Sportabout','1998','LIGHT YELLOW','3'),
('5','555555','Husky','1995','LIGHT GREY','4'),
('6','666666','Sovereign','2017','LIGHT BLUE','5');

INSERT into SERVICE (SER_ID, SER_TYPE, SER_DATE, CLI_ID, VEHICLE_ID)
VALUES ('1','WOF','23091998','1','1'),
('2','WOF','20170723','2','2'),
('3','WOF','20140619','2','3'),
('4','OIL','20110211','4','5'),
('5','TYRE','19990717','5','4');


SELECT * FROM CLIENT, VEHICLE, SERVICE;

SELECT * FROM SERVICE
WHERE  SER_TYPE = 'WOF';

SELECT * FROM CLIENT
WHERE  PriorityType = '1';


UPDATE CLIENT
SET FirstName = 'Joanna'
SET Surname = 'Bloggs'
WHERE CLI_ID = 2;

SELECT * FROM VEHICLE;

DELETE FROM SERVICE
WHERE SER_ID='3';

DELETE FROM VEHICLE
WHERE VEHICLE_ID='3';

ALTER TABLE CLIENT
DROP COLUMN priorityTyp;



Drop DATABASE DB_T_GARARGE;

